# LINE統合 ステップ1: LINE Developersでアプリを作成

## 🎯 このステップの目標

LINE DevelopersでMessaging APIチャネルを作成し、LINE公式アカウントと連携できるようにします。

## 📋 手順

### 1. LINE Developersにアクセス

1. ブラウザで [LINE Developers](https://developers.line.biz/) を開く
2. LINEアカウントでログイン

### 2. プロバイダーを作成

1. 右上の「新規プロバイダーを作成」をクリック
2. プロバイダー名を入力（例：`すいれん`）
3. 「作成」をクリック

### 3. Messaging APIチャネルを作成

1. 「チャネルを作成」をクリック
2. 「Messaging API」を選択
3. 以下の情報を入力：
   - **チャネル名**：`すいれん`
   - **チャネル説明**：`学校内転売 支払いシステム`
   - **大業種**：`個人`
   - **小業種**：`その他`
   - **メールアドレス**：あなたのメールアドレス
4. 利用規約に同意して「作成」をクリック

### 4. チャネル基本設定を確認

作成されたチャネルの設定ページで以下を確認：

- **チャネルID**：後で使います（コピーして保存）
- **チャネルシークレット**：後で使います（コピーして保存）

### 5. Messaging API設定

1. 左メニューから「Messaging API」をクリック
2. 以下の設定を行う：

#### チャネルアクセストークンを発行

1. 「チャネルアクセストークン（長期）」セクションで「発行」をクリック
2. 表示されたトークンをコピーして保存
   - ⚠️ **重要**：このトークンは一度しか表示されません。必ず保存してください

#### Webhook URLを設定

1. 「Webhook URL」セクションで以下を入力：
   ```
   https://あなたのドメイン/api/line/webhook
   ```
   - 例：`https://suiren.onrender.com/api/line/webhook`
   - ⚠️ **注意**：まだデプロイしていない場合は、後で設定します

2. 「検証」をクリックして接続を確認
   - 成功すると「Webhookイベントの受信」が有効になります

#### Webhookの利用を有効化

1. 「Webhookの利用」を「利用する」に設定
2. 「応答メッセージ」を「利用しない」に設定（Webhookで処理するため）

### 6. 友だち追加用のQRコードを取得

1. 左メニューから「チャネル基本設定」をクリック
2. 「QRコード」セクションでQRコードを表示
3. このQRコードを保存（友だち追加用）

## ✅ 完了チェックリスト

- [ ] LINE Developersにログインできた
- [ ] プロバイダーを作成した
- [ ] Messaging APIチャネルを作成した
- [ ] チャネルIDをコピーして保存した
- [ ] チャネルシークレットをコピーして保存した
- [ ] チャネルアクセストークン（長期）を発行して保存した
- [ ] 友だち追加用のQRコードを取得した

## 📝 保存しておく情報

以下の情報を安全な場所に保存してください：

```
チャネルID: [ここにコピー]
チャネルシークレット: [ここにコピー]
チャネルアクセストークン: [ここにコピー]
```

## ⚠️ 注意事項

- チャネルアクセストークンとチャネルシークレットは**秘密情報**です。絶対に公開しないでください
- Webhook URLは、サーバーをデプロイしてから設定します
- 無料プランでは、メッセージ送信数に制限があります

## ➡️ 次のステップ

ステップ1が完了したら、**ステップ2: 環境変数の設定**に進みます。

